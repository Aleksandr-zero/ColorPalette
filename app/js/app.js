"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,e,n){return(u=c()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return u(t,arguments,o(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,t)})(t)}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){var e=c();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var d={mapDOM:function(t){return{slider:t.getElementById("slider"),thumb:t.getElementById("thumb")}},render:function(){return"\n\t\t\t".concat(this.renderCSS(),"\n\t\t\t").concat(this.renderHTML(),"\n\t\t")},renderHTML:function(){return'\n\t\t\t<div id="slider">\n\t\t\t\t<div id="thumb"></div>\n\t\t\t</div>\n\t\t'},renderCSS:function(){return"\n\t\t\t<style>\n\t\t\t\t#slider {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\theight: 34px;\n\t\t\t\t\tbackground: linear-gradient(to right, red 0%, #ff0 17%, lime 33%, cyan 50%, blue 66%, #f0f 83%, red 100%);\n\t\t\t\t}\n\n\t\t\t\t#thumb {\n\t\t\t\t\tmargin-top: -1px;\n\t\t\t\t\twidth: 5px;\n\t\t\t\t\theight: calc(100% - 5px);\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tborder: 3px solid #fff;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n\t\t\t\t}\n\t\t\t</style>\n\t\t"}},f=function(t,e,n){var r,o,i,c,u,a,l,s;switch(1===arguments.length&&(e=t.S,n=t.V,t=t.H),a=n*(1-e),l=n*(1-(u=6*t-(c=Math.floor(6*t)))*e),s=n*(1-(1-u)*e),c%6){case 0:r=n,o=s,i=a;break;case 1:r=l,o=n,i=a;break;case 2:r=a,o=n,i=s;break;case 3:r=a,o=l,i=n;break;case 4:r=s,o=a,i=n;break;case 5:r=n,o=a,i=l}return{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*i)}},h=function(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}))},p=function(t,e,n){return"#"+[t,e,n].map((function(t){return t.toString(16).padStart(2,"0")})).join("")},b=function(e){r(i,a(HTMLElement));var o=s(i);function i(){var e;return t(this,i),(e=o.call(this)).attachShadow({mode:"open"}),e.shadowRoot.innerHTML=d.render(),e.dom=d.mapDOM(e.shadowRoot),e.slider=e.dom.slider,e.thumb=e.dom.thumb,e.thumb.addEventListener("mousedown",(function(t){e.swipeStartThumbSlider(t)})),e._swipeActionThumbSlider=function(t){e.swipeActionThumbSlider(t)},e._swipeEndThumbSlider=function(){e.swipeEndThumbSlider()},e}return n(i,[{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"connectedCallback",value:function(){if(this.value){if(this.value){var t=Math.round(this.slider.clientWidth/100*this.value);this.thumb.style.transform="translate3d(".concat(t,"px, 0, 0)"),this.setColor()}}else this.value=i.returnDEFAULT_VALUE;this.backgroundcolor||0===this.value||(this.backgroundcolor=i.returnDEFAULT_COLOR)}},{key:"value",get:function(){return this.getAttribute("value")},set:function(t){this.setAttribute("value",t)}},{key:"backgroundcolor",get:function(){return this.getAttribute("backgroundcolor")},set:function(t){this.setAttribute("backgroundcolor",t)}},{key:"setColor",value:function(){var t=this.value/100,e=f(t,1,1),n=p(e.r,e.g,e.b);this.backgroundcolor=n}},{key:"returnsPercentWidthSlider_Value",value:function(t){return t/(this.slider.clientWidth/100)}},{key:"swipeStartThumbSlider",value:function(t){document.addEventListener("mousemove",this._swipeActionThumbSlider),document.addEventListener("mouseup",this._swipeEndThumbSlider)}},{key:"swipeActionThumbSlider",value:function(t){var e=Math.round(t.clientX-this.thumb.clientWidth-this.thumb.clientWidth/2);this.thumb.style.transform="translate3d(".concat(e,"px, 0, 0)");var n=this.returnsPercentWidthSlider_Value(e);this.value=n,this.setColor(n)}},{key:"swipeEndThumbSlider",value:function(){document.removeEventListener("mousemove",this._swipeActionThumbSlider),document.removeEventListener("mouseup",this._swipeEndThumbSlider)}}],[{key:"returnDEFAULT_VALUE",get:function(){return 0}},{key:"returnDEFAULT_COLOR",get:function(){var t=f(i.returnDEFAULT_VALUE,1,1);return p(t.r,t.g,t.b)}},{key:"observedAttributes",get:function(){return["value","backgroundcolor"]}}]),i}();customElements.get("color-slider")||customElements.define("color-slider",b);var m={mapDOM:function(){return{}},render:function(){return"\n\t\t\t".concat(this.renderCSS(),"\n\t\t\t").concat(this.renderHTML(),"\n\t\t")},renderHTML:function(){return'\n\t\t\t<div id="color-picker">\n\n\t\t\t</div>\n\t\t'},renderCSS:function(){return"\n\t\t\t<style>\n\n\t\t\t</style>\n\t\t"}},g=function(e){r(i,a(HTMLElement));var o=s(i);function i(){var e;return t(this,i),(e=o.call(this)).attachShadow({mode:"open"}),e.shadowRoot.innerHTML=m.render(),e}return n(i,[{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"backgroundcolor",get:function(){return this.getAttribute("backgroundcolor")},set:function(t){this.setAttribute("backgroundcolo",t)}},{key:"x",get:function(){return this.getAttribute("x")},set:function(t){this.setAttribute("x",t)}},{key:"y",get:function(){return this.getAttribute("y")},set:function(t){this.setAttribute("y",t)}},{key:"connectedCallback",value:function(){}}],[{key:"observedAttributes",get:function(){return["x","y","backgroundcolor"]}}]),i}();customElements.get("color-picker")||customElements.define("color-picker",g);var v={mapDOM:function(t){return{sliderColor:t.getElementById("slider-color"),sliderTransparency:t.getElementById("slider-transparency")}},render:function(){return"\n\t\t\t".concat(this.renderCSS(),"\n\t\t\t").concat(this.renderHTML(),"\n\t\t")},renderHTML:function(){return'\n\t\t\t<div id="color-palette-wrapper">\n\t\t\t\t<div class="container">\n\t\t\t\t\t<color-picker\n\t\t\t\t\t\tbackgroundcolor="#ff0000"\n\t\t\t\t\t></color-picker>\n\t\t\t\t\t<div class="back-sliders">\n\t\t\t\t\t\t<color-slider id="slider-color" value="50"></color-slider>\n\t\t\t\t\t\t<color-slider id="slider-transparency" value="0"></color-slider>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},renderCSS:function(){return"\n\t\t\t<style>\n\t\t\t\t#color-palette-wrapper {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\n\t\t\t\t#slider-color, #slider-transparency {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 40px;\n\t\t\t\t\tmargin-bottom: 5px;\n\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t}\n\n\t\t\t\t#slider-color {\n\t\t\t\t\tmargin-bottom: 20px;\n\t\t\t\t\tbackground: linear-gradient(to right, red 0%, #ff0 17%, lime 33%, cyan 50%, blue 66%, #f0f 83%, red 100%);\n\t\t\t\t}\n\n\t\t\t\t#slider-transparency {\n\t\t\t\t\tbackground-image: linear-gradient(45deg, #ccc 25%, transparent 25%),linear-gradient(-45deg, #ccc 25%, transparent 25%),linear-gradient(45deg, transparent 75%, #ccc 75%),linear-gradient(-45deg, transparent 75%, #ccc 75%);\n\t\t\t\t}\n\t\t\t</style>\n\t\t"}},y=function(t){if("slider-color"===t.element.id){t.dom.sliderTransparency.backgroundcolor=t.element.backgroundcolor;var e=t.dom.sliderTransparency.shadowRoot.getElementById("slider"),n=h(t.element.backgroundcolor);e.style.background="\n\t\t\t\tlinear-gradient(to right, rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", 1) 0%, rgba(").concat(n[0],", ").concat(n[1],", ").concat(n[2],", 0) 100%)\n\t\t\t")}},k=function(e){r(i,a(HTMLElement));var o=s(i);function i(){var e;return t(this,i),(e=o.call(this)).attachShadow({mode:"open"}),e.shadowRoot.innerHTML=v.render(),e.dom=v.mapDOM(e.shadowRoot),new MutationObserver((function(t){e.onMutationChange(t)})).observe(e.shadowRoot,{attributes:!0,subtree:!0}),e}return n(i,[{key:"onMutationChange",value:function(t){var e=this;t.forEach((function(t){e.data=y({model:e.data,dom:e.dom,component:e,element:t.target,attribute:t.attributeName})}))}},{key:"connectedCallback",value:function(){}}]),i}();customElements.get("color-palette")||customElements.define("color-palette",k);
