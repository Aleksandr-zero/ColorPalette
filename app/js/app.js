"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function r(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,n,e){return(u=a()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return e&&o(i,e.prototype),i}).apply(null,arguments)}function c(t){var n="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return u(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,t)})(t)}function s(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function l(t){var n=a();return function(){var e,r=i(t);if(n){var o=i(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)}}var d={mapDOM:function(t){return{slider:t.getElementById("slider"),thumb:t.getElementById("thumb")}},render:function(){return"\n\t\t\t".concat(this.renderCSS(),"\n\t\t\t").concat(this.renderHTML(),"\n\t\t")},renderHTML:function(){return'\n\t\t\t<div id="slider">\n\t\t\t\t<div id="thumb"></div>\n\t\t\t</div>\n\t\t'},renderCSS:function(){return"\n\t\t\t<style>\n\t\t\t\t:host {\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t}\n\n\t\t\t\t#slider {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\theight: 100%;\n\t\t\t\t}\n\n\t\t\t\t#thumb {\n\t\t\t\t\tmargin-top: -1px;\n\t\t\t\t\twidth: 5px;\n\t\t\t\t\theight: calc(100% - 5px);\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tborder: 3px solid #fff;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n\t\t\t\t}\n\t\t\t</style>\n\t\t"}},p=function(t,n,e){var r,i,o,a,u,c,s,l;switch(1===arguments.length&&(n=t.S,e=t.V,t=t.H),c=e*(1-n),s=e*(1-(u=6*t-(a=Math.floor(6*t)))*n),l=e*(1-(1-u)*n),a%6){case 0:r=e,i=l,o=c;break;case 1:r=s,i=e,o=c;break;case 2:r=c,i=e,o=l;break;case 3:r=c,i=s,o=e;break;case 4:r=l,i=c,o=e;break;case 5:r=e,i=c,o=s}return{r:Math.round(255*r),g:Math.round(255*i),b:Math.round(255*o)}},h=function(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,n,e,r){})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}))},b=function(t,n,e){return"#"+[t,n,e].map((function(t){return t.toString(16).padStart(2,"0")})).join("")},f=function(n){r(o,c(HTMLElement));var i=l(o);function o(){var n;return t(this,o),(n=i.call(this)).attachShadow({mode:"open"}),n.shadowRoot.innerHTML=d.render(),n.dom=d.mapDOM(n.shadowRoot),n.thumb=n.dom.thumb,n.thumb.addEventListener("mousedown",(function(t){n.swipeStartThumbSlider(t)})),n._swipeActionThumbSlider=function(t){n.swipeActionThumbSlider(t)},n._swipeEndThumbSlider=function(){n.swipeEndThumbSlider()},n}return e(o,[{key:"attributeChangedCallback",value:function(t,n,e){"value"===t&&(this.setColor(e),this.refreshSlider(e))}},{key:"connectedCallback",value:function(){if(this.value){if(this.value){var t=Math.round(this.clientWidth/100*this.value);this.thumb.style.transform="translate3d(".concat(t,"px, 0, 0)"),this.setColor()}}else this.value=o.returnDEFAULT_VALUE;this.backgroundcolor||0===this.value||(this.backgroundcolor=o.returnDEFAULT_COLOR)}},{key:"value",get:function(){return this.getAttribute("value")},set:function(t){this.setAttribute("value",t)}},{key:"backgroundcolor",get:function(){return this.getAttribute("backgroundcolor")},set:function(t){this.setAttribute("backgroundcolor",t)}},{key:"setColor",value:function(){var t=this.value/100,n=p(t,1,1),e=b(n.r,n.g,n.b);this.backgroundcolor=e}},{key:"returnsPercentWidthSlider_Value",value:function(t){return t/this.offsetWidth*100}},{key:"swipeStartThumbSlider",value:function(t){document.addEventListener("mousemove",this._swipeActionThumbSlider),document.addEventListener("mouseup",this._swipeEndThumbSlider)}},{key:"swipeActionThumbSlider",value:function(t){var n=t.clientX-this.getBoundingClientRect().left-this.thumb.offsetWidth/2;n>this.offsetWidth?n=this.offsetWidth:n<0&&(n=0);var e=this.returnsPercentWidthSlider_Value(n);this.value=e}},{key:"refreshSlider",value:function(t){this.thumb.style.left="".concat(t/100*this.offsetWidth-this.thumb.offsetWidth/2,"px")}},{key:"swipeEndThumbSlider",value:function(){document.removeEventListener("mousemove",this._swipeActionThumbSlider),document.removeEventListener("mouseup",this._swipeEndThumbSlider)}}],[{key:"returnDEFAULT_VALUE",get:function(){return 0}},{key:"returnDEFAULT_COLOR",get:function(){var t=p(o.returnDEFAULT_VALUE,1,1);return b(t.r,t.g,t.b)}},{key:"observedAttributes",get:function(){return["value","backgroundcolor"]}}]),o}();customElements.get("color-slider")||customElements.define("color-slider",f);var m={mapDOM:function(t){return{thumb:t.getElementById("thumb")}},render:function(){return"\n\t\t\t".concat(this.renderCSS(),"\n\t\t\t").concat(this.renderHTML(),"\n\t\t")},renderHTML:function(){return'\n\t\t\t<div class="color-picker-container">\n\t\t\t\t<div id="thumb"></div>\n\t\t\t\t<div id="bg-overlay-a"></div>\n\t\t\t\t<div id="bg-overlay-b"></div>\n\t\t\t</div>\n\t\t'},renderCSS:function(){return"\n\t\t\t<style>\n\t\t\t\t:host {\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 230px;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t}\n\n\t\t\t\t.color-picker-container {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t}\n\n\t\t\t\t#thumb {\n\t\t\t\t\twidth: 11px;\n\t\t\t\t\theight: 11px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tz-index: 20;\n\t\t\t\t\tright: -7px;\n\t\t\t\t\ttop: -7px;\n\t\t\t\t\tborder: 3px solid #404040;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t}\n\n\t\t\t\t#bg-overlay-a {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbackground: linear-gradient(to right, #fff 0%, rgba(255,255,255,0) 100%);\n\t\t\t\t}\n\n\t\t\t\t#bg-overlay-b {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbackground: linear-gradient(to bottom, transparent 0%, #000 100%);\n\t\t\t\t}\n\t\t\t</style>\n\t\t"}},g=function(n){r(o,c(HTMLElement));var i=l(o);function o(){var n;return t(this,o),(n=i.call(this)).attachShadow({mode:"open"}),n.shadowRoot.innerHTML=m.render(),n.dom=m.mapDOM(n.shadowRoot),n.thumb=n.dom.thumb,n._swipeActionThumbSlider=function(){n.swipeActionThumbSlider()},n._swipeEndThumbSlider=function(){n.swipeEndThumbSlider()},n.thumb.addEventListener("mousedown",(function(t){n.swipeStartThumbSlider(t)})),n}return e(o,[{key:"attributeChangedCallback",value:function(t,n,e){"backgroundcolor"===t&&(this.style.backgroundColor=e)}},{key:"backgroundcolor",get:function(){return this.getAttribute("backgroundcolor")},set:function(t){this.setAttribute("backgroundcolo",t)}},{key:"x",get:function(){return this.getAttribute("x")},set:function(t){this.setAttribute("x",t)}},{key:"y",get:function(){return this.getAttribute("y")},set:function(t){this.setAttribute("y",t)}},{key:"returnsPercentWidthSlider_Value",value:function(t,n){return{x:t/(this.clientWidth/100),y:n/(this.clientHeight/100)}}},{key:"swipeStartThumbSlider",value:function(t){this.pressedX=t.clientX,this.pressedY=t.clientY,this.pos_x=this.thumb.getBoundingClientRect().x,this.pos_y=this.thumb.getBoundingClientRect().y,document.addEventListener("mousemove",this._swipeActionThumbSlider),document.addEventListener("mouseup",this._swipeEndThumbSlider)}},{key:"swipeActionThumbSlider",value:function(){var t=Math.round(this.pos_x-this.getBoundingClientRect().x-(this.pressedX-event.clientX)),n=Math.round(this.pos_y-this.getBoundingClientRect().y-(this.pressedY-event.clientY)),e=this.returnsPercentWidthSlider_Value(t,n);this.dom.thumb.style.left="".concat(t,"px"),this.dom.thumb.style.top="".concat(n,"px"),this.x=e.x,this.y=e.y}},{key:"swipeEndThumbSlider",value:function(){document.removeEventListener("mousemove",this._swipeActionThumbSlider),document.removeEventListener("mouseup",this._swipeEndThumbSlider)}}],[{key:"observedAttributes",get:function(){return["x","y","backgroundcolor"]}}]),o}();customElements.get("color-picker")||customElements.define("color-picker",g);var v={mapDOM:function(t){return{sliderColor:t.getElementById("slider-color"),sliderTransparency:t.getElementById("slider-transparency"),colorPicker:t.getElementById("color-picker"),input:{inputR:t.getElementById("input-r"),inputG:t.getElementById("input-g"),inputB:t.getElementById("input-b"),inputAlpha:t.getElementById("input-alpha"),inputHEX:t.getElementById("input-hex")},demonstration:t.getElementById("dem")}},render:function(){return"\n\t\t\t".concat(this.renderCSS(),"\n\t\t\t").concat(this.renderHTML(),"\n\t\t")},renderHTML:function(){return'\n\t\t\t<div id="color-palette-wrapper">\n\t\t\t\t<div class="container">\n\t\t\t\t\t<div class="container-wrapper">\n\t\t\t\t\t\t<color-picker id="color-picker" x="100" y="0"></color-picker>\n\t\t\t\t\t\t<div class="back-sliders">\n\t\t\t\t\t\t\t<color-slider id="slider-color"></color-slider>\n\t\t\t\t\t\t\t<color-slider id="slider-transparency"></color-slider>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="back-fields">\n\t\t\t\t\t\t\t<div class="back-input">\n\t\t\t\t\t\t\t\t<input type="text" name="rgb-r" id="input-r" class="input">\n\t\t\t\t\t\t\t\t<label for="input-r" class="label">r</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="back-input">\n\t\t\t\t\t\t\t\t<input type="text" name="rgb-g" id="input-g" class="input">\n\t\t\t\t\t\t\t\t<label for="input-g" class="label">g</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="back-input">\n\t\t\t\t\t\t\t\t<input type="text" name="rgb-b" id="input-b" class="input">\n\t\t\t\t\t\t\t\t<label for="input-b" class="label">b</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="back-input">\n\t\t\t\t\t\t\t\t<input type="text" name="rgb-alpha" id="input-alpha" class="input">\n\t\t\t\t\t\t\t\t<label for="input-alpha" class="label">alpha</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="back-input">\n\t\t\t\t\t\t\t\t<input type="text" name="hex" id="input-hex" class="input">\n\t\t\t\t\t\t\t\t<label for="input-hex" class="label">hex</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="demonstration">\n\t\t\t\t\t\t<div id="dem" class="demonstration-block">Demonstration</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},renderCSS:function(){return"\n\t\t\t<style>\n\t\t\t\t.container {\n\t\t\t\t\tmax-width: 800px;\n\t\t\t\t\tmargin: 30px auto 0;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t}\n\n\t\t\t\t.container-wrapper {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\n\t\t\t\t.demonstration {\n\t\t\t\t\twidth: 20%;\n\t\t\t\t\tmargin-left: 14px;\n\t\t\t\t}\n\n\t\t\t\t.demonstration-block {\n\t\t\t\t\tfont-size: 0;\n\t\t\t\t\tcolor: transparent;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t}\n\n\t\t\t\t#color-palette-wrapper {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\n\t\t\t\t#slider-color,\n\t\t\t\t#slider-transparency {\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 40px;\n\t\t\t\t}\n\n\t\t\t\t#slider-color {\n\t\t\t\t\tmargin-bottom: 10px;\n\t\t\t\t\tbackground: linear-gradient(to right, red 0%, #ff0 17%, lime 33%, cyan 50%, blue 66%, #f0f 83%, red 100%);\n\t\t\t\t}\n\n\t\t\t\t#slider-transparency {\n\t\t\t\t\tbackground-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n\t\t\t\t\t\t\t\t\t  linear-gradient(-45deg, #ccc 25%, transparent 25%),\n\t\t\t\t\t\t\t\t\t  linear-gradient(45deg, transparent 75%, #ccc 75%),\n\t\t\t\t\t\t\t\t\t  linear-gradient(-45deg, transparent 75%, #ccc 75%);\n\t\t\t\t\tbackground-size: 16px 16px;\n\t\t\t\t\tbackground-position: 0 0, 0 8px, 8px -8px, -8px 0px;\n\t\t\t\t}\n\n\t\t\t\t.back-fields {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tmargin-top: 10px;\n\t\t\t\t}\n\n\t\t\t\t.back-input {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tmargin-right: 20px;\n\t\t\t\t}\n\n\t\t\t\t.input {\n\t\t\t\t\toutline: none;\n\t\t\t\t\tborder: 1.5px solid #bbbfc5;\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\tpadding: 3px 6px 6px 6px;\n\t\t\t\t\tfont-size: 26px;\n\t\t\t\t\tmax-width: 60px;\n\t\t\t\t\tline-height: 1;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.label {\n\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\tmargin-top: 8px;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tfont-size: 22px;\n\t\t\t\t}\n\n\t\t\t\t#input-hex {\n\t\t\t\t\tmax-width: 128px;\n\t\t\t\t}\n\n\t\t\t\t.input:focus {\n\t\t\t\t\tborder: 1.5px solid #1F2667;\n\t\t\t\t}\n\t\t\t</style>\n\t\t"}},y={transformationRgbArray_In_Obj:function(t){return Object.fromEntries(new Map([["r",t[0]],["g",t[1]],["b",t[2]]]))},update:function(t){var n=t.dom.sliderColor.value/100,e=t.dom.colorPicker.x/100,r=(100-t.dom.colorPicker.y)/100;if("slider-color"===t.element.id){t.dom.sliderTransparency.backgroundcolor=t.element.backgroundcolor;var i=t.dom.sliderTransparency.shadowRoot.getElementById("slider"),o=h(t.element.backgroundcolor);o=this.transformationRgbArray_In_Obj(o),i.style.background="\n\t\t\t\tlinear-gradient(to right, rgba(".concat(o.r,", ").concat(o.g,", ").concat(o.b,", 1) 0%, rgba(").concat(o.r,", ").concat(o.g,", ").concat(o.b,", 0) 100%)\n\t\t\t"),this.updateInputField_For_RGB(o,t),this.updateColorPicker(o,t)}else if("color-picker"===t.element.id){var a=p(n,e,r),u=+((100-t.dom.sliderTransparency.value)/100+1e-5).toFixed(2);t.dom.demonstration.style.background="rgba(".concat(a.r,", ").concat(a.g,", ").concat(a.b,", ").concat(u,")"),this.updateInputField_For_RGB(a,t)}else if("slider-transparency"===t.element.id){var c=Math.round(100-t.dom.sliderTransparency.value),s=p(n,e,r);t.dom.demonstration.style.background="rgba(".concat(s.r,", ").concat(s.g,", ").concat(s.b,", ").concat(c/100,")"),t.dom.input.inputAlpha.value=c}},updateInputField_For_RGB:function(t,n){n.dom.input.inputR.value=t.r,n.dom.input.inputG.value=t.g,n.dom.input.inputB.value=t.b,n.dom.input.inputHEX.value=b(t.r,t.g,t.b)},updateColorPicker:function(t,n){var e=n.dom.colorPicker;e.backgroundcolor=b(t.r,t.g,t.b),e.style.background="rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")}},x=function(n){r(o,c(HTMLElement));var i=l(o);function o(){var n;return t(this,o),(n=i.call(this)).attachShadow({mode:"open"}),n.shadowRoot.innerHTML=v.render(),n.dom=v.mapDOM(n.shadowRoot),new MutationObserver((function(t){n.onMutationChange(t)})).observe(n.shadowRoot,{attributes:!0,subtree:!0}),n}return e(o,[{key:"onMutationChange",value:function(t){var n=this;t.forEach((function(t){n.data=y.update({dom:n.dom,component:n,element:t.target,attribute:t.attributeName})}))}},{key:"connectedCallback",value:function(){y.update({dom:this.dom,element:this.dom.sliderColor})}}]),o}();customElements.get("color-palette")||customElements.define("color-palette",x);
